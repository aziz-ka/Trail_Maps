function TrailModel(t){this.id=t.id,this.title=t.title,this.description=t.description,this.state=t.state,this.startMarker=t.coords[0],this.coords=t.coords}function TrailView(t){this.model=t,this.el=void 0}function TrailCollection(){this.trails={}}function addFavorite(){$(".favorite").on("click",function(t){var i=$(t.target).data("id");$.ajax({url:"/trails/favorite",method:"post",dataType:"json",data:{id:i},success:function(){$(t.target).remove()},error:function(){$("main").css("opacity",".2"),$("nav").css("padding","2%"),$(".title").after("<p class='error'>*You must login/signup first</p>"),$(".error").css("color","#000").css("text-align","center").css("margin","0 auto"),$("main").on("click",function(){$("main").css("opacity","1"),$("nav").css("padding","0"),$(".error").remove()})}})})}TrailCollection.prototype.fetch=function(t){var i=this;return $.ajax({url:"/trails",method:"get",dataType:"json",success:function(o){$.each(o,function(t,o){var s=new TrailModel(o);i.trails[s.id]=s}),"function"==typeof t&&t(o)}})};