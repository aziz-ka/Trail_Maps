$(function(){$(".loginform").hide(),$(".background").hide(),$(".signup-container").hide(),$(".login-button").on("click",function(){$(".background").fadeOut(),$(".signup-container").fadeOut(),"block"===$(".loginform").css("display")?$(".loginform").hide(500):$(".loginform").show(500)}),$(".signup-button").on("click",function(){$(".signup-container").fadeIn(),$(".loginform").hide(500),$(".background").fadeIn()}),$(".close-signup").on("click",function(){$(".background").fadeOut(),$(".signup-container").fadeOut()}),$(".new_user").on("submit",function(e){e.preventDefault();var s=$("#user_username").val(),r=$("#user_email").val(),n=$("#user_password").val(),o={username:s,email:r,password:n};$.ajax({url:"/users",method:"post",dataType:"json",data:{user:o},success:function(e){lichard=e,$(".errors").html(""),e.id?($(".errors").html(""),$("#username").val($("#user_email").val()),$("#password").val($("#user_password").val()),$(".signup-container").html("Success!"),$(".loginform").show(500),$(".signup-container").fadeOut(),$(".background").fadeOut()):$.each(e,function(e,s){$(".errors").append($("<p>").html(s))})}})}),$("#user_username").on("keyup",function(){$("#user_username").val().length>0?$("#user_username").css("border","solid lightgreen 3px"):$("#user_username").css("border","solid red 3px")}),$("#user_email").on("keyup",function(){$("#user_email").val().search(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)>-1?$("#user_email").css("border","solid lightgreen 3px"):$("#user_email").css("border","solid red 3px")}),$("#user_password").on("keyup",function(){$("#user_password").val().length>5&&$("#user_password").val().length<10?$("#user_password").css("border","solid lightgreen 3px"):$("#user_password").css("border","solid red 3px")})});